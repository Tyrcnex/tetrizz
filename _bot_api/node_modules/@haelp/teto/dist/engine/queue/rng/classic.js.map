{"version":3,"sources":["../../../../src/engine/queue/rng/classic.ts"],"sourcesContent":["import { RNG } from \"../../utils\";\nimport { Mino } from \"../types\";\n\nexport const classic = (seed: number) => {\n  const TETROMINOS: Mino[] = [\n    Mino.Z,\n    Mino.L,\n    Mino.O,\n    Mino.S,\n    Mino.I,\n    Mino.J,\n    Mino.T\n  ];\n  let lastGenerated: number | null = null;\n  const gen = new RNG(seed);\n\n  return () => {\n    let index = Math.floor(gen.nextFloat() * (TETROMINOS.length + 1));\n\n    if (index === lastGenerated || index >= TETROMINOS.length) {\n      index = Math.floor(gen.nextFloat() * TETROMINOS.length);\n    }\n\n    lastGenerated = index;\n    return [TETROMINOS[index]];\n  };\n};\n"],"names":["classic","seed","TETROMINOS","Mino","Z","L","O","S","I","J","T","lastGenerated","gen","RNG","index","Math","floor","nextFloat","length"],"mappings":";;;;+BAGaA;;;eAAAA;;;uBAHO;uBACC;AAEd,MAAMA,UAAU,CAACC;IACtB,MAAMC,aAAqB;QACzBC,WAAI,CAACC,CAAC;QACND,WAAI,CAACE,CAAC;QACNF,WAAI,CAACG,CAAC;QACNH,WAAI,CAACI,CAAC;QACNJ,WAAI,CAACK,CAAC;QACNL,WAAI,CAACM,CAAC;QACNN,WAAI,CAACO,CAAC;KACP;IACD,IAAIC,gBAA+B;IACnC,MAAMC,MAAM,IAAIC,UAAG,CAACZ;IAEpB,OAAO;QACL,IAAIa,QAAQC,KAAKC,KAAK,CAACJ,IAAIK,SAAS,KAAMf,CAAAA,WAAWgB,MAAM,GAAG,CAAA;QAE9D,IAAIJ,UAAUH,iBAAiBG,SAASZ,WAAWgB,MAAM,EAAE;YACzDJ,QAAQC,KAAKC,KAAK,CAACJ,IAAIK,SAAS,KAAKf,WAAWgB,MAAM;QACxD;QAEAP,gBAAgBG;QAChB,OAAO;YAACZ,UAAU,CAACY,MAAM;SAAC;IAC5B;AACF"}