{"version":3,"sources":["../../../../src/classes/ribbon/codecs/codec-candor.ts"],"sourcesContent":["// @ts-nocheck\nimport { Bits as n } from \"./utils/bits\";\nimport r from \"./utils/msgpackr-943ed70\";\nimport {\n  OptionsList,\n  spinbonuses_rules,\n  kicksets,\n  tetrominoes,\n  minocolors\n} from \"./utils/shared\";\n\nimport { strictShallowEqual } from \"fast-equals\";\n\nconst e = Buffer;\n\nlet cached = {};\nfunction itdo(e: any) {\n  const t = Object.prototype.toString.call(e);\n  if (cached[t]) {\n    return cached[t];\n  } else {\n    return (cached[t] = t.substring(8, t.length - 1).toLowerCase());\n  }\n}\nfunction initOptions() {\n  let OptionsTemplate = {};\n  for (const [e, t] of Object.entries(OptionsList)) {\n    OptionsTemplate[e] = t.default;\n    const n = itdo(t.default);\n    switch (n) {\n      case \"boolean\":\n      case \"number\":\n      case \"array\":\n      case \"object\":\n        // @ts-ignore\n        t.type = n;\n        break;\n      case \"string\":\n        // @ts-ignore\n        t.type = t.allowed || t.possibles ? \"table\" : \"string\";\n        break;\n      default:\n        throw new TypeError(\n          `Error while templating ${e}: typeof ${n} is not supported as default values`\n        );\n    }\n  }\n}\ninitOptions();\nconst ve = {\n  int64AsType: \"number\",\n  bundleStrings: false,\n  sequential: false\n};\nconst ke = new r.Packr(ve);\nconst we = new r.Unpackr(ve);\nconst Be = {\n  F_ALLOC: 1,\n  F_HOOK: 2,\n  F_ID: 128\n};\nconst Le = new (class {\n  _commands = new Map();\n  _codes = new Map();\n  _PACK = null;\n  _UNPACK = null;\n  SymCmd = Symbol(\"cmd\");\n  FLAG = Be;\n  SetMsgpackr(e, t) {\n    this._PACK = e.pack.bind(e);\n    this._UNPACK = t.unpack.bind(t);\n  }\n  GetHandlers() {\n    const c = [];\n    for (const t of this._commands.values()) {\n      if (t.flags & this.FLAG.F_HOOK) {\n        c.push(t.name);\n      }\n    }\n    const h = this._commands.get(\"__pack__\")?.table;\n    if (h) {\n      c.push.apply(c, Object.keys(h));\n    }\n    return c;\n  }\n  Add(t, n) {\n    this._commands.set(t, n);\n    this._codes.set(n.code, n);\n    n.name = t;\n    if (n.flags & this.FLAG.F_ALLOC) {\n      n.buffer = e.from([n.code]);\n    }\n    if (n.table) {\n      n._kv = new Map();\n      n._vk = new Map();\n      n.getkv = (e) => n._kv.get(e);\n      n.getvk = (e) => n._vk.get(e);\n      for (const [e, t] of Object.entries(n.table)) {\n        n._kv.set(e, t);\n        n._vk.set(t, e);\n      }\n    }\n  }\n  Encode(t, n, i = {}) {\n    const s = this._commands.get(t) ?? this._commands.get(\"__pack__\");\n    let o = s.code;\n    let r = 1;\n    if (s.flags & this.FLAG.F_ALLOC) {\n      return s.buffer;\n    }\n    if (!i.batched && (s.flags & this.FLAG.F_ID || i.id)) {\n      r += 3;\n      o |= this.FLAG.F_ID;\n    }\n    const a = s.encode(n, this._PACK, t);\n    const l = e.allocUnsafe(r + a.byteLength);\n    l.writeUInt8(o, 0);\n    l.set(a, r);\n    return l;\n  }\n  Decode(e) {\n    const t = new n(e);\n    const i = t.peek(6, 2);\n    const s = this._codes.get(i);\n    const o = {\n      command: s?.name\n    };\n    let r = 1;\n    if (!s) {\n      throw new ReferenceError(\n        `received an unknown code [0x${i.toString(16).padStart(2, \"0\")}]`\n      );\n    }\n    if (s.flags & this.FLAG.F_ALLOC) {\n      return o;\n    }\n    if (e[0] & this.FLAG.F_ID) {\n      o.id = t.peek(24, 8);\n      r += 3;\n    }\n    e = e.subarray(r);\n    try {\n      o.data = s.decode(e, this._UNPACK);\n    } catch (t) {\n      console.error(`Failed to decode command ${s.name}: ${e.toString()}`);\n      throw t;\n    }\n    if (this.SymCmd in o.data) {\n      o.command = o.data[this.SymCmd];\n      o.data = o.data.data;\n    }\n    return o;\n  }\n})();\n{\n  const { F_ALLOC: t, F_HOOK: n, F_ID: i } = Le.FLAG;\n  const s = {\n    code: 25,\n    flags: t\n  };\n  Le.Add(\"new\", s);\n  const o = {\n    code: 63,\n    flags: t\n  };\n  Le.Add(\"die\", o);\n  const r = {\n    code: 19,\n    flags: n | t\n  };\n  Le.Add(\"rejected\", r);\n  const a = {\n    code: 33,\n    flags: n | t\n  };\n  Le.Add(\"reload\", a);\n  Le.Add(\"ping\", {\n    code: 9,\n    flags: n,\n    encode({ recvid: t }) {\n      const n = e.allocUnsafe(4);\n      n.writeUInt32BE(t, 0);\n      return n;\n    },\n    decode(e) {\n      return {\n        recvid: e.readUInt32BE(0)\n      };\n    }\n  });\n  Le.Add(\"session\", {\n    code: 44,\n    encode({ ribbonid: t, tokenid: n }) {\n      const i = e.allocUnsafe(16);\n      i.write(t, 0, 8, \"hex\");\n      i.write(n, 8, 8, \"hex\");\n      return i;\n    },\n    decode: (e) => ({\n      ribbonid: e.toString(\"hex\", 0, 8),\n      tokenid: e.toString(\"hex\", 8, 16)\n    })\n  });\n  Le.Add(\"packets\", {\n    code: 7,\n    encode({ packets: t }) {\n      const n = t.reduce((e, t) => e + t.length, 0);\n      const i = e.allocUnsafe(n + t.length * 4);\n      for (let e = 0, n = 0; e < t.length; e++) {\n        const s = t[e];\n        i.writeUInt32BE(s.length, n);\n        i.set(s, n + 4);\n        n += s.length + 4;\n      }\n      return i;\n    },\n    decode(e) {\n      const t = [];\n      for (let n = 0; n < e.length; ) {\n        const i = e.readUInt32BE(n);\n        n += 4;\n        const s = e.subarray(n, n + i);\n        t.push(s);\n        n += i;\n      }\n      return {\n        packets: t\n      };\n    }\n  });\n  Le.Add(\"kick\", {\n    table: {\n      outdated: 1,\n      kick: 2,\n      restrict: 3,\n      block: 4,\n      anticheat: 5,\n      manual: 6,\n      rename: 7\n    },\n    flags: n,\n    code: 4,\n    encode({ reason: t }) {\n      let n = e.allocUnsafe(1);\n      const i = this.getkv(t);\n      n.writeUInt8(i, 0);\n      if (!i) {\n        n = e.concat([n, e.from(t)]);\n      }\n      return n;\n    },\n    decode(e) {\n      const t = e.readUInt8(0);\n      let n = this.getvk(t);\n      n ||= e.toString(\"utf8\", 1);\n      return {\n        reason: n\n      };\n    }\n  });\n  Le.Add(\"nope\", {\n    table: {\n      \"protocol violation\": 0,\n      \"ribbon expired\": 1\n    },\n    code: 42,\n    encode({ reason: t }) {\n      return e.from([this.getkv(t)]);\n    },\n    decode(e) {\n      const t = e.readUInt8(0);\n      return {\n        reason: this.getvk(t)\n      };\n    }\n  });\n  Le.Add(\"pni\", {\n    table: {\n      background: 0,\n      split: 1,\n      load: 2\n    },\n    code: 51,\n    flags: n,\n    encode({ type: t, timeout: n }) {\n      const i = e.allocUnsafe(3);\n      i.writeUInt8(this.getkv(t), 0);\n      i.writeUInt16BE(n, 1);\n      return i;\n    },\n    decode(e) {\n      return {\n        type: this.getvk(e.readUInt8(0)),\n        timeout: e.readUInt16BE(1)\n      };\n    }\n  });\n  Le.Add(\"notify\", {\n    table: {\n      deny: 1,\n      warm: 2,\n      ok: 3,\n      error: 4,\n      announce: 5\n    },\n    code: 49,\n    flags: n | i,\n    encode(t, n) {\n      const i = this.getkv(t.type);\n      const s = e.from([i]);\n      switch (i) {\n        case 1: {\n          const n = e.allocUnsafe(2 + t.msg.length);\n          n.writeUInt16BE(t.timeout);\n          n.write(t.msg, 2);\n          return e.concat([s, n]);\n        }\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n          return e.concat([s, e.from(t.msg)]);\n        default:\n          return e.concat([s, n(t)]);\n      }\n    },\n    decode(e, t) {\n      const n = e.readUInt8(0);\n      const i = this.getvk(n);\n      switch (n) {\n        case 1:\n          return {\n            type: i,\n            timeout: e.readUInt16BE(1),\n            msg: e.toString(\"utf8\", 3)\n          };\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n          return {\n            type: i,\n            msg: e.toString(\"utf8\", 1)\n          };\n        default:\n          return t(e.subarray(1));\n      }\n    }\n  });\n  Le.Add(\"__pack__\", {\n    table: {\n      \"config.handling\": 1,\n      \"channel.subscribe\": 2,\n      \"channel.unsubscribe\": 3,\n      \"social.presence\": 16,\n      \"social.invite\": 17,\n      \"social.link\": 18,\n      \"social.online\": 19,\n      \"social.notification\": 20,\n      \"social.notification.ack\": 21,\n      \"social.dm\": 22,\n      \"social.dm.fail\": 23,\n      \"social.relation.ack\": 24,\n      \"social.relation.add\": 25,\n      \"social.relation.remove\": 26,\n      \"social.relation.update\": 27,\n      \"social.relation.clear\": 28,\n      \"social.party.invite\": 29,\n      \"social.party.invite.accept\": 30,\n      \"game.enter\": 48,\n      \"game.replace\": 49,\n      \"game.forfeit\": 50,\n      \"game.ready\": 51,\n      \"game.start\": 52,\n      \"game.spectate\": 53,\n      \"game.submit\": 54,\n      \"game.advance\": 55,\n      \"game.abort\": 56,\n      \"game.end\": 57,\n      \"game.score\": 58,\n      \"game.waitstate\": 59,\n      \"game.match\": 60,\n      \"game.match.score\": 61,\n      \"game.replay\": 62,\n      \"game.replay.enter\": 63,\n      \"game.replay.ige\": 64,\n      \"game.replay.state\": 65,\n      \"game.replay.board\": 66,\n      \"game.replay.end\": 67,\n      \"game.scope.start\": 68,\n      \"game.scope.end\": 69,\n      \"game.setspec\": 70,\n      \"game.records.revolved\": 71,\n      \"party.ready\": 80,\n      \"party.leave\": 81,\n      \"party.members\": 83,\n      \"party.sync\": 82,\n      \"staff.chat\": 96,\n      \"staff.spam\": 97,\n      \"staff.warn\": 98,\n      \"staff.silence\": 99,\n      \"staff.lift\": 100,\n      \"staff.kickfail\": 101,\n      \"staff.shout\": 102,\n      \"staff.waterfall\": 103,\n      \"staff.game.event\": 104,\n      \"staff.xrc\": 105,\n      \"room.create\": 128,\n      \"room.join\": 129,\n      \"room.leave\": 130,\n      \"room.abort\": 131,\n      \"room.start\": 132,\n      \"room.kick\": 133,\n      \"room.unban\": 134,\n      \"room.banlist\": 135,\n      \"room.setid\": 136,\n      \"room.setconfig\": 137,\n      \"room.update\": 138,\n      \"room.update.bracket\": 139,\n      \"room.update.host\": 140,\n      \"room.update.auto\": 141,\n      \"room.update.supporter\": 142,\n      \"room.player.add\": 143,\n      \"room.player.remove\": 144,\n      \"room.bracket.switch\": 145,\n      \"room.bracket.move\": 146,\n      \"room.owner.transfer\": 147,\n      \"room.owner.revoke\": 148,\n      \"room.chat\": 149,\n      \"room.chat.send\": 150,\n      \"room.chat.clear\": 151,\n      \"room.chat.delete\": 152,\n      \"room.chat.gift\": 153,\n      \"room.chat.game\": 154,\n      \"room.call\": 155,\n      \"league.enter\": 177,\n      \"league.leave\": 178,\n      \"league.match\": 179,\n      \"league.counts\": 180,\n      \"league.ready\": 181,\n      \"server.maintenance\": 208,\n      \"server.announcement\": 209,\n      \"server.authorize\": 210,\n      \"server.migrate\": 211,\n      \"server.migrated\": 212,\n      \"xrc.relog\": 255\n    },\n    flags: i,\n    code: 43,\n    encode(t, n, i) {\n      const s = n(t);\n      const o = e.allocUnsafe(1 + s.length);\n      const r = this.getkv(i);\n      o.writeUInt8(r, 0);\n      o.set(s, 1);\n      return o;\n    },\n    decode(e, t) {\n      const n = e.readUInt8(0);\n      const i = this.getvk(n);\n      const s = t(e.subarray(1));\n      return {\n        [Le.SymCmd]: i,\n        data: s\n      };\n    }\n  });\n}\nconst Se = {\n  Table: 0,\n  Array: 1,\n  Struct: 2,\n  String: 3,\n  Buffer: 4,\n  Boolean: 5,\n  Int: 6,\n  UInt: 7,\n  DInt: 8,\n  Float: 9,\n  UFloat: 10,\n  Double: 11,\n  Number: 12,\n  Any: 13\n};\nconst Te = {\n  NaN: 0,\n  Infinity: 1,\n  UInt: 2,\n  Int: 3,\n  Double: 4\n};\nconst Me = {\n  BUFFER: 1,\n  DOUBLE: 2,\n  QWORD: 3,\n  HEX: 4\n};\nclass Ee {\n  static TYPES = Se;\n  static TYPES_INDEX = Array.from(Object.keys(this.TYPES));\n  static SUPPORTED_TYPES = new Set([\n    \"undefined\",\n    \"null\",\n    \"boolean\",\n    \"number\",\n    \"string\",\n    \"array\"\n  ]);\n  static cla32(e) {\n    if (e >>> 0 === e) {\n      return Math.max(32 - Math.clz32(e), 1);\n    } else {\n      return Math.max(32 - Math.clz32(~e) + 1, 2);\n    }\n  }\n  static GetIntSize(e) {\n    return Math.ceil(this.cla32(e) / 4);\n  }\n  static DInt = class {\n    constructor({ min: e, max: t }) {\n      this._minBits = e;\n      this._maxBits = t;\n      this._minSize = Math.pow(2, e);\n      this._maxSize = Math.pow(2, t);\n    }\n    get minSize() {\n      return this._minSize;\n    }\n    get maxSize() {\n      return this._maxSize;\n    }\n    readSize(e) {\n      if (e) {\n        return this._maxBits;\n      } else {\n        return this._minBits;\n      }\n    }\n    writeSize(e) {\n      let t;\n      switch (e) {\n        case e >>> 0:\n          t = this._minSize <= e;\n          break;\n        case e | 0:\n          t = -this._minSize / 2 > e;\n          break;\n        default:\n          throw new RangeError(\n            `Float/Double is not supported for DInt: got ${e}`\n          );\n      }\n      return {\n        bit: t,\n        size: t ? this._maxBits : this._minBits\n      };\n    }\n  };\n  static Number = new (class {\n    TYPES = Te;\n    encode(e, t) {\n      const { TYPES: n } = this;\n      if (typeof t != \"number\") {\n        throw new TypeError(`Attempted to encode ${typeof t} as a number`);\n      }\n      if (Number.isNaN(t)) {\n        return e.writeUInt(n.NaN, 3);\n      }\n      if (!Number.isFinite(t)) {\n        e.writeUInt(n.Infinity, 3);\n        return e.writeBoolean(t === Number.POSITIVE_INFINITY);\n      }\n      switch (t) {\n        case t >>> 0: {\n          const i = Ee.GetIntSize(t);\n          e.writeUInt(n.UInt, 3);\n          e.writeUInt(i - 1, 3);\n          e.writeUInt(t, i * 4);\n          break;\n        }\n        case t | 0: {\n          const i = Ee.GetIntSize(t);\n          e.writeUInt(n.Int, 3);\n          e.writeUInt(i - 1, 3);\n          e.writeInt(t, i * 4);\n          break;\n        }\n        default:\n          e.writeUInt(n.Double, 3);\n          e.writeDouble(t);\n      }\n    }\n    decode(e) {\n      switch (e.readUInt(3)) {\n        case 0:\n          return NaN;\n        case 1:\n          if (e.readBoolean()) {\n            return Number.POSITIVE_INFINITY;\n          } else {\n            return Number.NEGATIVE_INFINITY;\n          }\n        case 2: {\n          const t = e.readUInt(3) + 1;\n          return e.readUInt(t * 4);\n        }\n        case 3: {\n          const t = e.readUInt(3) + 1;\n          return e.readInt(t * 4);\n        }\n        case 4:\n          return e.readDouble();\n      }\n    }\n  })();\n  static Table = class {\n    constructor(e, t = \"strict\") {\n      this._kv = new Map();\n      this._vk = new Map();\n      for (const [t, a] of e.entries()) {\n        this._kv.set(a, t + 1);\n        this._vk.set(t + 1, a);\n      }\n      this._mode = t;\n      this._size = Math.floor(Math.log2(this._kv.size)) + 1;\n      this.has = this._kv.has.bind(this._kv);\n    }\n    get mode() {\n      return this._mode;\n    }\n    get size() {\n      return this._size;\n    }\n    get struct() {\n      const a = {};\n      for (const [t, l] of this._kv.entries()) {\n        a[t] = \"0x\" + l.toString(16).padStart(2, \"0\");\n      }\n      return a;\n    }\n    getkv(e) {\n      return this._kv.get(e);\n    }\n    getvk(e) {\n      return this._vk.get(e);\n    }\n  };\n  static Array = class {\n    constructor(e = \"default\", { list: t, min: n, max: i } = {}) {\n      this._mode = e;\n      switch (e) {\n        case \"strict\":\n          this._table = new Ee.Table(t);\n          break;\n        case \"flexible\":\n          throw new Error(\"Flexible mode is not implemented yet\");\n        case \"default\":\n      }\n      n = n ?? 7;\n      i = i ?? 15;\n      const h = {\n        min: n,\n        max: i\n      };\n      this._prop = new Ee.DInt(h);\n    }\n    get mode() {\n      return this._mode;\n    }\n    encode(e, t) {\n      e.writeDInt(t.length, this._prop);\n      switch (this._mode) {\n        case \"strict\":\n          for (const n of t) {\n            e.writeTable(n, this._table);\n          }\n          break;\n        case \"flexible\":\n          throw new Error(\"Flexible mode is not implemented yet\");\n        default:\n          for (const n of t) {\n            e.writeAny(n, this);\n          }\n      }\n    }\n    decode(e) {\n      const t = e.readDInt(this._prop);\n      const n = [];\n      if (this._mode === \"strict\") {\n        for (let i = 0; i < t; i++) {\n          n.push(e.readTable(this._table));\n        }\n      } else {\n        for (let i = 0; i < t; i++) {\n          n.push(e.readAny(this));\n        }\n      }\n      return n;\n    }\n  };\n  static init() {\n    this.SUPPORTED_TYPES_TABLE = new this.Table(\n      Array.from(this.SUPPORTED_TYPES.keys())\n    );\n    this.DEFAULT_ARRAY = new this.Array();\n    this.DEFAULT_PROP = new this.DInt({\n      min: 8,\n      max: 32\n    });\n  }\n  constructor() {\n    this.ref = new Map();\n    this.refid = 0;\n  }\n  static Encoder = class t extends this {\n    static TYPES = Me;\n    constructor(e = null, t = null) {\n      super();\n      this._buffer = [];\n      this._size = 0;\n      this._packr = e;\n      this._packBuffer = t;\n    }\n    get buffer() {\n      return this._buffer;\n    }\n    get size() {\n      return this._size;\n    }\n    get byteLength() {\n      return Math.ceil(this._size / 8);\n    }\n    realign() {\n      return (this._size += (8 - (this._size % 8)) % 8);\n    }\n    _insert(e, t, n = null) {\n      if (n) {\n        this.realign();\n      }\n      this._size += t;\n      return this._buffer.push({\n        val: e,\n        size: t,\n        type: n\n      });\n    }\n    writeTable(e, t) {\n      if (t.mode === \"strict\") {\n        return this._insert(t.getkv(e), t.size);\n      }\n      const n = t.getkv(e);\n      if (n === undefined) {\n        this._insert(null, t.size);\n        return this.writeAny(e);\n      } else {\n        return this._insert(n, t.size);\n      }\n    }\n    writeArray(e, t = Ee.DEFAULT_ARRAY) {\n      if (t.mode === \"strict\") {\n        return t.encode(this, e);\n      } else if (this.ref.has(e)) {\n        this._insert(true, 1);\n        return this.writeDInt(this.ref.get(e), Ee.DEFAULT_PROP);\n      } else {\n        this._insert(false, 1);\n        this.ref.set(e, this.refid++);\n        return t.encode(this, e);\n      }\n    }\n    writeStruct(e, t) {\n      return t.encode(this, e);\n    }\n    writeString(n, i = true) {\n      n = e.from(i ? `${n}\\0` : n);\n      return this._insert(n, n.byteLength * 8, t.TYPES.BUFFER);\n    }\n    writeBuffer(e) {\n      return this._insert(e, e.byteLength * 8, t.TYPES.BUFFER);\n    }\n    writeBoolean(e) {\n      return this._insert(!!e, 1);\n    }\n    writeInt(e, t) {\n      return this._insert(e, t);\n    }\n    writeUInt(e, t) {\n      return this._insert(e, t);\n    }\n    writeUInt64(e) {\n      return this._insert(e, 64, t.TYPES.QWORD);\n    }\n    writeDInt(e, t) {\n      const n = t.writeSize(e);\n      this._insert(n.bit, 1);\n      return this._insert(e, n.size);\n    }\n    writeFloat(e, t, n) {\n      this._insert(e < 0, 1);\n      return this._insert(Math.round(e * n), t);\n    }\n    writeUFloat(e, t, n) {\n      return this._insert(Math.round(e * n), t);\n    }\n    writeDouble(e) {\n      return this._insert(e, 64, t.TYPES.DOUBLE);\n    }\n    writeNumber(e) {\n      return Ee.Number.encode(this, e);\n    }\n    writeHex(e, n) {\n      return this._insert(e, n * 8, t.TYPES.HEX);\n    }\n    writeAny(e, t) {\n      const n = b(e);\n      if (!Ee.SUPPORTED_TYPES.has(n)) {\n        throw new TypeError(\n          `Type ${n} is not implemented for NetCodec.TYPES.Any`\n        );\n      }\n      this.writeTable(n, Ee.SUPPORTED_TYPES_TABLE);\n      switch (n) {\n        case \"boolean\":\n          this.writeBoolean(e);\n          break;\n        case \"null\":\n        case \"undefined\":\n          break;\n        case \"number\":\n          Ee.Number.encode(this, e);\n          break;\n        case \"string\":\n          this.writeString(e);\n          break;\n        case \"array\":\n          this.writeArray(e, t);\n      }\n    }\n    writeByType(e, t, ...n) {\n      return this[`write${Ee.TYPES_INDEX[e]}`](t, ...n);\n    }\n    pack(e) {\n      this._packr.useBuffer(this._packBuffer);\n      const n = this._packr.pack(e);\n      return this._insert(n, n.byteLength * 8, t.TYPES.BUFFER);\n    }\n    finalize(i = null) {\n      const s = i ?? e.allocUnsafe(this.byteLength);\n      const o = new n(s);\n      for (const { val: e, size: n, type: i } of this._buffer) {\n        switch (i) {\n          case t.TYPES.BUFFER:\n            o.offset += (8 - (o.offset % 8)) % 8;\n            s.set(e, o.offset / 8);\n            o.seek(e.byteLength * 8, 2);\n            break;\n          case t.TYPES.DOUBLE:\n            o.offset += (8 - (o.offset % 8)) % 8;\n            s.writeDoubleBE(e, o.offset / 8);\n            o.seek(64, 2);\n            break;\n          case t.TYPES.QWORD:\n            o.offset += (8 - (o.offset % 8)) % 8;\n            s.writeBigUInt64BE(e, o.offset / 8);\n            o.seek(64, 2);\n            break;\n          case t.TYPES.HEX:\n            o.offset += (8 - (o.offset % 8)) % 8;\n            s.write(e, o.offset / 8, \"hex\");\n            o.seek(n, 2);\n            break;\n          default:\n            o.write(e, n);\n        }\n      }\n      return s;\n    }\n  };\n  static Decoder = class e extends this {\n    static _MAX_BITS = Math.log2(Number.MAX_SAFE_INTEGER);\n    static _MAX_BITS_SIGNED = 32;\n    constructor(e, t = null) {\n      super();\n      this._bits = new n(e);\n      this._unpack = t;\n    }\n    get length() {\n      return this._bits.length;\n    }\n    get offset() {\n      return this._bits.offset;\n    }\n    set offset(e) {\n      this._bits.offset = e;\n    }\n    get buffer() {\n      return this._bits.buffer;\n    }\n    get byteOffset() {\n      return Math.ceil(this.offset / 8);\n    }\n    realign() {\n      this.offset = this.byteOffset * 8;\n    }\n    _read_signed(t) {\n      const n = e._MAX_BITS_SIGNED - t;\n      return (this._read(t) << n) >> n;\n    }\n    _read(e) {\n      return this._bits.read(e);\n    }\n    readTable(e) {\n      const t = e.size;\n      if (this.peek(t) !== 0) {\n        return e.getvk(this._read(t));\n      } else {\n        this.seek(t, 2);\n        return this.readAny();\n      }\n    }\n    readArray(e = Ee.DEFAULT_ARRAY) {\n      if (e.mode === \"strict\") {\n        return e.decode(this);\n      }\n      if (this._read(1)) {\n        return this.ref.get(this.readDInt(Ee.DEFAULT_PROP));\n      }\n      const t = [];\n      this.ref.set(this.refid++, t);\n      t.push.apply(t, e.decode(this));\n      return t;\n    }\n    readStruct(e) {\n      return e.decode(this);\n    }\n    readString(e) {\n      const t = this.byteOffset;\n      let n;\n      if (typeof e == \"number\") {\n        n = t + e;\n        this.seek(n * 8);\n      } else {\n        n = this.buffer.indexOf(0, t);\n        this.seek((n + 1) * 8);\n      }\n      return this.buffer.toString(\"utf8\", t, n);\n    }\n    readBuffer(e) {\n      const t = this.byteOffset;\n      const n = t + e;\n      this.seek(n * 8);\n      return this.buffer.subarray(t, n);\n    }\n    readBoolean() {\n      return !!this._read(1);\n    }\n    readInt(t) {\n      if (t > e._MAX_BITS_SIGNED) {\n        throw new RangeError(\n          `${t} of bits is not supported for signed values, max is ${e._MAX_BITS_SIGNED}`\n        );\n      }\n      return this._read_signed(t);\n    }\n    readUInt(t) {\n      if (t > e._MAX_BITS) {\n        throw new RangeError(\n          `${t} of bits is not supported, max is ${e._MAX_BITS}`\n        );\n      }\n      return this._read(t);\n    }\n    readUInt64() {\n      const e = this.byteOffset;\n      this.seek(e * 8 + 64);\n      return this.buffer.readBigUInt64BE(e);\n    }\n    readDInt(e, t = false) {\n      const n = e.readSize(this._read(1));\n      if (t) {\n        return this._read_signed(n);\n      } else {\n        return this._read(n);\n      }\n    }\n    readFloat(e, t) {\n      if (this.peek(1)) {\n        return this._read_signed(e + 1) / t;\n      } else {\n        this.seek(1, 2);\n        return this._read(e) / t;\n      }\n    }\n    readUFloat(e, t) {\n      return this._read(e) / t;\n    }\n    readDouble() {\n      const e = this.byteOffset;\n      this.seek(e * 8 + 64);\n      return this.buffer.readDoubleBE(e);\n    }\n    readNumber() {\n      return Ee.Number.decode(this);\n    }\n    readHex(e) {\n      const t = this.byteOffset;\n      const n = t + e;\n      this.seek(n * 8);\n      return this.buffer.toString(\"hex\", t, n);\n    }\n    readAny(e) {\n      switch (this.readTable(Ee.SUPPORTED_TYPES_TABLE)) {\n        case \"boolean\":\n          return this.readBoolean();\n        case \"null\":\n          return null;\n        case \"undefined\":\n          return;\n        case \"number\":\n          return Ee.Number.decode(this);\n        case \"string\":\n          return this.readString();\n        case \"array\":\n          return this.readArray(e);\n      }\n    }\n    readByType(e, ...t) {\n      return this[`read${Ee.TYPES_INDEX[e]}`](...t);\n    }\n    peek(e, t) {\n      return this._bits.peek(e, t);\n    }\n    peekTable(e, t = this.offset) {\n      return e.getvk(this.peek(e.size, t));\n    }\n    peekDInt(e, t = this.offset) {\n      return this.peek(e.readSize(this.peek(1, t)), t + 1);\n    }\n    seek(e, t) {\n      this._bits.seek(e, t);\n    }\n    unpack() {\n      this.realign();\n      return this._unpack(this.byteOffset);\n    }\n  };\n}\nclass De {\n  static _MAX_BUFFER = 65536;\n  static BUFFER = e.alloc(this._MAX_BUFFER);\n  static _LIST = {};\n  static get LIST() {\n    return this._LIST;\n  }\n  static AddExtension(t, n = {}) {\n    this._LIST[t.name] = t;\n    if (\"ownBuffer\" in n) {\n      t.BUFFER = e.alloc(this._MAX_BUFFER);\n    }\n  }\n  static AddTable(e, t, n) {\n    this[\"$$\" + e] = new Ee.Table(t, n);\n  }\n  static AddProperty(e, t) {\n    this[\"$\" + e] = new Ee.DInt(t);\n  }\n  static LoadExtensions(e) {\n    let a = 10;\n    function l(e) {\n      return e.encode.call(e, new Ee.Encoder(this, e.constructor.BUFFER));\n    }\n    function h(e, t, n, i) {\n      return e.decode(new Ee.Decoder(t, (e) => n(i + e)));\n    }\n    for (const n of Object.values(this._LIST)) {\n      n.ext_code = a++;\n      e.addExtension({\n        Class: n,\n        type: n.ext_code,\n        pack: l,\n        unpack: h.bind(null, n)\n      });\n    }\n  }\n}\nclass Oe extends De {\n  static AddStructure(e) {\n    this._cstFields = new Map();\n    this._fixFields = new Map();\n    this._optFields = new Map();\n    for (const [t, { mode: n, type: c, size: h, value: u }] of Object.entries(\n      e\n    )) {\n      switch (n) {\n        case \"static\":\n          this._cstFields.set(t, u);\n          break;\n        case \"fixed\":\n          const e = {\n            type: c,\n            size: h\n          };\n          this._fixFields.set(t, e);\n          break;\n        case \"optional\":\n          const n = {\n            type: c,\n            size: h\n          };\n          this._optFields.set(t, n);\n      }\n    }\n    super.AddTable(\"prop\", Array.from(this._optFields.keys()));\n  }\n  static encode(e, t) {\n    for (const [n, { type: i, size: s }] of this._fixFields.entries()) {\n      e.writeByType(i, t[n], s);\n    }\n    for (const [n, { type: i, size: s }] of this._optFields.entries()) {\n      if (t[n] !== undefined) {\n        if (i !== Ee.TYPES.DInt || t[n] !== null) {\n          e.writeTable(n, this.$$prop);\n          e.writeByType(i, t[n], s);\n        }\n      }\n    }\n    e.writeUInt(null, this.$$prop.size);\n  }\n  static decode(e) {\n    const t = {};\n    const n = this.$$prop.size;\n    for (const [n, { type: i, size: s }] of this._fixFields.entries()) {\n      t[n] = e.readByType(i, s);\n    }\n    for (let i = e.peek(n); i !== 0; i = e.peek(n)) {\n      const n = e.readTable(this.$$prop);\n      const { type: i, size: s } = this._optFields.get(n);\n      const o = e.readByType(i, s);\n      t[n] = o;\n    }\n    for (const [e, n] of this._cstFields.entries()) {\n      t[e] = n;\n    }\n    return t;\n  }\n}\nclass Pe extends De {\n  static init() {\n    super.AddExtension(this);\n    super.AddProperty(\"prov\", {\n      min: 18,\n      max: 26\n    });\n  }\n  static decode(e) {\n    return new this(e.readUInt(13), e.readDInt(this.$prov), e.unpack());\n  }\n  constructor(e, t, n) {\n    super();\n    this.gameid = e;\n    this.provisioned = t;\n    this.frames = n.map((e) => new Re(e));\n  }\n  encode(e) {\n    const t = this.constructor;\n    const n = this.provisioned;\n    e.writeUInt(this.gameid, 13);\n    e.writeDInt(n, t.$prov);\n    e.pack(this.frames);\n    return e.finalize();\n  }\n}\nclass We extends De {\n  static init() {\n    super.AddExtension(this);\n    super.AddProperty(\"long\", {\n      min: 16,\n      max: 32\n    });\n  }\n  static decode(e) {\n    const t = [];\n    const n = e.readUInt(13);\n    for (let i = 0; i < n; i++) {\n      const n = {\n        board: {}\n      };\n      n.gameid = e.readUInt(13);\n      n.board.f = e.readUInt(10);\n      n.board.g = e.readDInt(this.$long);\n      n.board.w = e.readUInt(Ue.MAX_WIDTH);\n      n.board.h = e.readUInt(Ue.MAX_HEIGHT);\n      n.board.b = e.readStruct(Ue);\n      t[i] = n;\n    }\n    return new this(t);\n  }\n  constructor(e) {\n    super();\n    this.boards = e;\n  }\n  encode(e) {\n    const t = this.constructor;\n    e.writeUInt(this.boards.length, 13);\n    for (const {\n      gameid: n,\n      board: { b: i, f: s, g: o, w: r, h: a }\n    } of this.boards) {\n      e.writeUInt(n, 13);\n      e.writeUInt(s, 10);\n      e.writeDInt(o, t.$long);\n      e.writeUInt(r, Ue.MAX_WIDTH);\n      e.writeUInt(a, Ue.MAX_HEIGHT);\n      e.writeStruct(i, Ue);\n    }\n    return e.finalize();\n  }\n}\nclass He extends De {\n  static init() {\n    super.AddExtension(this);\n    super.AddTable(\"extraStat\", [\n      \"none\",\n      \"revives\",\n      \"escapeartist\",\n      \"blockrationing_app\",\n      \"blockrationing_final\",\n      \"talentless\"\n    ]);\n  }\n  static decode(e) {\n    const t = [];\n    const n = e.readUInt(13);\n    for (let i = 0; i < n; i++) {\n      const n = {\n        stats: {},\n        allies: []\n      };\n      t[i] = n;\n      n.gameid = e.readUInt(13);\n      n.stats.rank = e.readUInt(6);\n      n.stats.altitude = e.readFloat(18, 10);\n      n.stats.btb = e.readUInt(13);\n      n.specCount = e.readUInt(10);\n      n.speedrun = e.readBoolean();\n      n.nearWR = e.readBoolean();\n      const s = e.readUInt(3);\n      for (let t = 0; t < s; t++) {\n        n.allies.push(e.readUInt(13));\n      }\n      n.stats.revives = 0;\n      n.stats.escapeartist = 0;\n      n.stats.blockrationing_app = 0;\n      n.stats.blockrationing_final = 0;\n      switch (e.readTable(this.$$extraStat)) {\n        case \"none\":\n          break;\n        case \"revives\":\n          n.stats.revives = e.readUInt(8);\n          break;\n        case \"escapeartist\":\n          n.stats.escapeartist = e.readUInt(9);\n          break;\n        case \"blockrationing_app\":\n          n.stats.blockrationing_app = e.readFloat(10, 100);\n          break;\n        case \"blockrationing_final\":\n          n.stats.blockrationing_final = e.readUInt(11);\n          break;\n        case \"talentless\":\n          n.talentless = true;\n      }\n    }\n    return new this(t);\n  }\n  constructor(e) {\n    super();\n    this.sb = e;\n  }\n  encode(e) {\n    const t = this.constructor;\n    e.writeUInt(this.sb.length, 13);\n    for (const {\n      gameid: n,\n      stats: i,\n      allies: s,\n      specCount: o,\n      speedrun: r,\n      nearWR: a,\n      talentless: l\n    } of this.sb) {\n      e.writeUInt(n, 13);\n      e.writeUInt(Math.floor(i.rank), 6);\n      e.writeFloat(i.altitude.toFixed(2), 18, 10);\n      e.writeUInt(i.btb, 13);\n      e.writeUInt(o, 10);\n      e.writeBoolean(r);\n      e.writeBoolean(a);\n      if (s) {\n        e.writeUInt(s.length, 3);\n        for (const t of s) {\n          e.writeUInt(t, 13);\n        }\n      } else {\n        e.writeUInt(0, 3);\n      }\n      let c = \"none\";\n      if (i.revives) {\n        c = \"revives\";\n      }\n      if (i.escapeartist) {\n        c = \"escapeartist\";\n      }\n      if (i.blockrationing_app) {\n        c = \"blockrationing_app\";\n      }\n      if (i.blockrationing_final) {\n        c = \"blockrationing_final\";\n      }\n      if (l) {\n        c = \"talentless\";\n      }\n      e.writeTable(c, t.$$extraStat);\n      switch (c) {\n        case \"none\":\n        case \"talentless\":\n          break;\n        case \"revives\":\n          e.writeUInt(i.revives, 8);\n          break;\n        case \"escapeartist\":\n          e.writeUInt(i.escapeartist, 9);\n          break;\n        case \"blockrationing_app\":\n          e.writeFloat(i.blockrationing_app.toFixed(3), 10, 100);\n          break;\n        case \"blockrationing_final\":\n          e.writeUInt(i.blockrationing_final, 11);\n      }\n    }\n    return e.finalize();\n  }\n}\nclass Re extends De {\n  static init() {\n    super.AddExtension(this, {\n      ownBuffer: true\n    });\n    super.AddProperty(\"frame\", {\n      min: 18,\n      max: 26\n    });\n    super.AddTable(\"type\", [\n      \"keydown\",\n      \"keyup\",\n      \"start\",\n      \"full\",\n      \"end\",\n      \"ige\",\n      \"strategy\",\n      \"manual_target\"\n    ]);\n    super.AddTable(\"key\", [\n      \"moveLeft\",\n      \"moveRight\",\n      \"rotate180\",\n      \"rotateCCW\",\n      \"rotateCW\",\n      \"softDrop\",\n      \"hardDrop\",\n      \"undo\",\n      \"redo\",\n      \"hold\",\n      \"retry\",\n      \"exit\"\n    ]);\n  }\n  static decode(e) {\n    const t = {};\n    t.type = e.readTable(this.$$type);\n    t.frame = e.readDInt(this.$frame);\n    switch (t.type) {\n      case \"keydown\":\n      case \"keyup\": {\n        const n = e.readTable(this.$$key);\n        const i = e.readBoolean();\n        const s = {\n          key: n,\n          subframe: e.readFloat(4, 10)\n        };\n        if (i) {\n          s.hoisted = true;\n        }\n        t.data = s;\n        break;\n      }\n      case \"start\":\n        t.data = {};\n        break;\n      case \"full\":\n        t.data = e.readStruct($e);\n        break;\n      case \"end\":\n        t.data = e.readStruct(nt);\n        break;\n      case \"ige\":\n        t.data = e.readStruct(je);\n        break;\n      case \"strategy\":\n        t.data = e.readUInt(3);\n        break;\n      case \"manual_target\":\n        t.data = e.readUInt(13);\n        break;\n      default:\n        t.data = e.unpack();\n    }\n    return new this(t);\n  }\n  constructor(e) {\n    super();\n    this.type = e.type;\n    this.frame = e.frame;\n    this.data = e.data;\n  }\n  encode(e) {\n    const t = this.constructor;\n    e.writeTable(this.type, t.$$type);\n    e.writeDInt(this.frame, t.$frame);\n    switch (this.type) {\n      case \"keydown\":\n      case \"keyup\": {\n        const n = this.data.hoisted;\n        const i = this.data.subframe;\n        e.writeTable(this.data.key, t.$$key);\n        e.writeBoolean(n);\n        e.writeFloat(i, 4, 10);\n        return e.finalize();\n      }\n      case \"start\":\n        return e.finalize();\n      case \"full\":\n        e.writeStruct(this.data, $e);\n        return e.finalize();\n      case \"end\":\n        e.writeStruct(this.data, nt);\n        return e.finalize();\n      case \"ige\":\n        e.writeStruct(this.data, je);\n        return e.finalize();\n      case \"strategy\":\n        e.writeUInt(this.data, 3);\n        return e.finalize();\n      case \"manual_target\":\n        e.writeUInt(this.data, 13);\n        return e.finalize();\n      default:\n        console.warn(\n          `Fallback to packer ${this.type} -> ${JSON.stringify(this.data)}`\n        );\n        e.pack(this.data);\n        return e.finalize();\n    }\n  }\n}\nclass Ne extends De {\n  static init() {\n    super.AddExtension(this);\n  }\n  static decode(e) {\n    const t = [];\n    const n = e.readUInt(13);\n    for (let i = 0; i < n; i++) {\n      const n = {};\n      n.userid = e.readHex(12);\n      n.gameid = e.readUInt(13);\n      n.alive = e.readBoolean();\n      n.naturalorder = e.readUInt(13);\n      n.options = e.readStruct(et);\n      t.push(n);\n    }\n    return t;\n  }\n  constructor(e) {\n    super();\n    this.players = e;\n  }\n  encode(e) {\n    e.writeUInt(this.players.length, 13);\n    for (const {\n      gameid: t,\n      userid: n,\n      alive: i,\n      naturalorder: s,\n      options: o\n    } of this.players) {\n      e.writeHex(n, 12);\n      e.writeUInt(t, 13);\n      e.writeBoolean(i);\n      e.writeUInt(s, 13);\n      e.writeStruct(o, et);\n    }\n    return e.finalize();\n  }\n}\nclass $e extends De {\n  static init() {\n    super.AddTable(\"piece\", [null, ...Object.keys(tetrominoes)], \"flexible\");\n    super.AddTable(\"ixs\", [\"off\", \"hold\", \"tap\"]);\n  }\n  static encode(e, t) {\n    const n = t.game.board;\n    const i = t.game.bag;\n    const s = t.game.hold;\n    const o = t.game.g;\n    const r = t.game.controlling;\n    const a = t.game.falling;\n    const l = t.game.handling;\n    e.writeUInt(i.length, 12);\n    for (const t of i) {\n      e.writeTable(t, this.$$piece);\n    }\n    e.writeStruct(n, Ue);\n    e.writeBoolean(s.locked);\n    e.writeTable(s.piece, this.$$piece);\n    e.writeDouble(o);\n    e.writeBoolean(r.inputSoftdrop);\n    e.writeBoolean(r.lastshift === -1);\n    e.writeBoolean(r.lShift.held);\n    e.writeBoolean(r.rShift.held);\n    e.writeUInt(t.diyusi, 4);\n    e.writeDouble(r.lShift.arr);\n    e.writeDouble(r.rShift.arr);\n    e.writeDouble(r.lShift.das);\n    e.writeDouble(r.rShift.das);\n    e.writeStruct(a, Xe);\n    e.writeFloat(l.arr, 6, 10);\n    e.writeUInt(l.sdf, 6);\n    e.writeBoolean(l.safelock);\n    e.writeBoolean(l.cancel);\n    e.writeBoolean(l.may20g);\n    e.writeBoolean(t.game.playing);\n    e.writeFloat(l.das, 8, 10);\n    e.writeFloat(l.dcd, 8, 10);\n    e.writeTable(l.irs, this.$$ixs);\n    e.writeTable(l.ihs, this.$$ixs);\n    e.writeStruct(t.stats, qe);\n  }\n  static decode(e) {\n    const t = {};\n    const n = {\n      bag: [],\n      controlling: {\n        lShift: {\n          dir: -1\n        },\n        rShift: {\n          dir: 1\n        }\n      },\n      handling: {}\n    };\n    const i = n.controlling;\n    const s = n.handling;\n    const o = e.readUInt(12);\n    for (let t = 0; t < o; t++) {\n      n.bag.push(e.readTable(this.$$piece));\n    }\n    n.board = e.readStruct(Ue);\n    n.hold = {\n      locked: e.readBoolean(),\n      piece: e.readTable(this.$$piece)\n    };\n    n.g = e.readDouble();\n    i.inputSoftdrop = e.readBoolean();\n    i.lastshift = e.readBoolean() ? -1 : 1;\n    i.lShift.held = e.readBoolean();\n    i.rShift.held = e.readBoolean();\n    t.diyusi = e.readUInt(4);\n    i.lShift.arr = e.readDouble();\n    i.rShift.arr = e.readDouble();\n    i.lShift.das = e.readDouble();\n    i.rShift.das = e.readDouble();\n    n.falling = e.readStruct(Xe);\n    s.arr = e.readFloat(6, 10);\n    s.sdf = e.readUInt(6);\n    s.safelock = e.readBoolean();\n    s.cancel = e.readBoolean();\n    s.may20g = e.readBoolean();\n    n.playing = e.readBoolean();\n    s.das = e.readFloat(8, 10);\n    s.dcd = e.readFloat(8, 10);\n    s.irs = e.readTable(this.$$ixs);\n    s.ihs = e.readTable(this.$$ixs);\n    t.stats = e.readStruct(qe);\n    t.game = n;\n    return t;\n  }\n}\nclass Ue extends De {\n  static MAX_WIDTH = Math.log2(512);\n  static MAX_HEIGHT = Math.log2(512);\n  static init() {\n    super.AddTable(\"blk\", [false, null, ...minocolors]);\n  }\n  static encode(e, t) {\n    const n = t[0]?.length ?? 0;\n    const i = t.length;\n    if (!n) {\n      return e.writeUInt(0, this.MAX_WIDTH);\n    }\n    e.writeUInt(n, this.MAX_WIDTH);\n    e.writeUInt(i, this.MAX_HEIGHT);\n    for (const n of t) {\n      if (n.some((e) => e !== null)) {\n        for (const t of n) {\n          e.writeTable(t, this.$$blk);\n        }\n      } else {\n        e.writeTable(false, this.$$blk);\n      }\n    }\n  }\n  static decode(e) {\n    const t = [];\n    const n = e.readUInt(this.MAX_WIDTH);\n    if (!n) {\n      return t;\n    }\n    const i = e.readUInt(this.MAX_HEIGHT);\n    for (let s = 0; s < i; s++) {\n      if (e.peekTable(this.$$blk) !== false) {\n        t[s] = [];\n        for (let i = 0; i < n; i++) {\n          t[s][i] = e.readTable(this.$$blk);\n        }\n      } else {\n        e.seek(4, 2);\n        t[s] = new Array(n).fill(null);\n      }\n    }\n    return t;\n  }\n}\nclass Xe extends De {\n  static init() {\n    super.AddTable(\"piece\", [null, ...Object.keys(tetrominoes)], \"flexible\");\n  }\n  static encode(e, t) {\n    e.writeTable(t.type, this.$$piece);\n    e.writeInt(t.x, Ue.MAX_WIDTH);\n    e.writeUInt(t.r, 2);\n    e.writeUInt(t.hy, Ue.MAX_HEIGHT);\n    e.writeUInt(t.irs, 2);\n    e.writeUInt(t.kick, 5);\n    e.writeUInt(t.keys, 16);\n    e.writeUInt(t.flags, 15);\n    e.writeUInt(t.safelock, 3);\n    e.writeUInt(t.lockresets, 5);\n    e.writeUInt(t.rotresets, 6);\n    e.writeBoolean(t.skip.length);\n    if (t.skip.length) {\n      for (const n of t.skip) {\n        e.writeUInt(n + 1, 7);\n      }\n      e.writeUInt(0, 7);\n    }\n    e.writeDouble(t.y);\n    e.writeDouble(t.locking);\n  }\n  static decode(e) {\n    const t = {};\n    t.type = e.readTable(this.$$piece);\n    t.x = e.readInt(Ue.MAX_WIDTH);\n    t.r = e.readUInt(2);\n    t.hy = e.readUInt(Ue.MAX_HEIGHT);\n    t.irs = e.readUInt(2);\n    t.kick = e.readUInt(5);\n    t.keys = e.readUInt(16);\n    t.flags = e.readUInt(15);\n    t.safelock = e.readUInt(3);\n    t.lockresets = e.readUInt(5);\n    t.rotresets = e.readUInt(6);\n    t.skip = [];\n    if (e.readBoolean()) {\n      const n = 7;\n      for (let i = e.peek(n); i !== 0; i = e.peek(n)) {\n        t.skip.push(e.readUInt(n) - 1);\n      }\n      e.seek(n, 2);\n    }\n    t.y = e.readDouble();\n    t.locking = e.readDouble();\n    return t;\n  }\n}\nclass qe extends De {\n  static init() {\n    super.AddTable(\"piece\", [...Object.keys(tetrominoes)], \"flexible\");\n    super.AddProperty(\"short\", {\n      min: 8,\n      max: 16\n    });\n    super.AddProperty(\"long\", {\n      min: 16,\n      max: 32\n    });\n    this._clears = [\n      \"singles\",\n      \"doubles\",\n      \"triples\",\n      \"quads\",\n      \"pentas\",\n      \"realtspins\",\n      \"minitspins\",\n      \"minitspinsingles\",\n      \"tspinsingles\",\n      \"minitspindoubles\",\n      \"tspindoubles\",\n      \"minitspintriples\",\n      \"tspintriples\",\n      \"minitspinquads\",\n      \"tspinquads\",\n      \"tspinpentas\",\n      \"allclear\"\n    ];\n  }\n  static encode(e, t) {\n    const n = t.garbage;\n    const i = t.clears;\n    const s = t.finesse;\n    e.writeDInt(t.lines, this.$short);\n    e.writeDInt(t.level_lines, this.$short);\n    e.writeDInt(t.level_lines_needed, this.$short);\n    e.writeDInt(t.inputs, this.$long);\n    e.writeDInt(t.holds, this.$long);\n    e.writeDInt(t.score, this.$long);\n    e.writeUInt(t.level, 8);\n    e.writeDInt(t.combo, this.$long);\n    e.writeDInt(t.topcombo, this.$long);\n    e.writeUInt(t.combopower, 3);\n    e.writeDInt(t.btb, this.$short);\n    e.writeDInt(t.topbtb, this.$short);\n    e.writeUInt(t.btbpower, 8);\n    e.writeDInt(t.tspins, this.$long);\n    e.writeDInt(t.piecesplaced, this.$long);\n    for (const t of this._clears) {\n      e.writeDInt(i[t], this.$short);\n    }\n    e.writeDInt(n.sent, this.$long);\n    e.writeDInt(n.sent_nomult, this.$long);\n    e.writeDInt(n.maxspike, this.$long);\n    e.writeDInt(n.maxspike_nomult, this.$long);\n    e.writeDInt(n.received, this.$long);\n    e.writeDInt(n.attack, this.$long);\n    e.writeDInt(n.cleared, this.$long);\n    e.writeDInt(t.kills, this.$short);\n    e.writeDInt(s.combo, this.$long);\n    e.writeDInt(s.faults, this.$long);\n    e.writeDInt(s.perfectpieces, this.$long);\n    e.writeStruct(t.zenith, Ke);\n  }\n  static decode(e) {\n    const t = {\n      zenlevel: 1,\n      zenprogress: 0,\n      clears: {},\n      garbage: {},\n      finesse: {}\n    };\n    t.lines = e.readDInt(this.$short);\n    t.level_lines = e.readDInt(this.$short);\n    t.level_lines_needed = e.readDInt(this.$short);\n    t.inputs = e.readDInt(this.$long);\n    t.holds = e.readDInt(this.$long);\n    t.score = e.readDInt(this.$long);\n    t.level = e.readUInt(8);\n    t.combo = e.readDInt(this.$long);\n    t.topcombo = e.readDInt(this.$long);\n    t.combopower = e.readUInt(3);\n    t.btb = e.readDInt(this.$short);\n    t.topbtb = e.readDInt(this.$short);\n    t.btbpower = e.readUInt(8);\n    t.tspins = e.readDInt(this.$long);\n    t.piecesplaced = e.readDInt(this.$long);\n    for (const n of this._clears) {\n      t.clears[n] = e.readDInt(this.$short);\n    }\n    t.garbage.sent = e.readDInt(this.$long);\n    t.garbage.sent_nomult = e.readDInt(this.$long);\n    t.garbage.maxspike = e.readDInt(this.$long);\n    t.garbage.maxspike_nomult = e.readDInt(this.$long);\n    t.garbage.received = e.readDInt(this.$long);\n    t.garbage.attack = e.readDInt(this.$long);\n    t.garbage.cleared = e.readDInt(this.$long);\n    t.kills = e.readDInt(this.$short);\n    t.finesse.combo = e.readDInt(this.$long);\n    t.finesse.faults = e.readDInt(this.$long);\n    t.finesse.perfectpieces = e.readDInt(this.$long);\n    t.zenith = e.readStruct(Ke);\n    return t;\n  }\n}\nclass Ke extends De {\n  static init() {\n    super.AddProperty(\"long\", {\n      min: 16,\n      max: 32\n    });\n  }\n  static encode(e, t) {\n    e.writeDouble(t.altitude);\n    e.writeDouble(t.rank);\n    e.writeDouble(t.peakrank);\n    e.writeDouble(t.avgrankpts);\n    e.writeDouble(t.totalbonus);\n    e.writeFloat(t.targetingfactor, 16, 100);\n    e.writeFloat(t.targetinggrace, 16, 100);\n    e.writeUInt(t.floor, 4);\n    e.writeUInt(t.revives, 8);\n    e.writeUInt(t.revivesTotal, 8);\n    e.writeBoolean(t.speedrun);\n    e.writeBoolean(t.speedrun_seen);\n    for (let n = 0; n < 9; n++) {\n      e.writeDInt(t.splits[n], this.$long);\n    }\n  }\n  static decode(e) {\n    const t = {};\n    t.altitude = e.readDouble();\n    t.rank = e.readDouble();\n    t.peakrank = e.readDouble();\n    t.avgrankpts = e.readDouble();\n    t.totalbonus = e.readDouble();\n    t.targetingfactor = e.readFloat(16, 100);\n    t.targetinggrace = e.readFloat(16, 100);\n    t.floor = e.readUInt(4);\n    t.revives = e.readUInt(8);\n    t.revivesTotal = e.readUInt(8);\n    t.revivesMaxOfBoth = Math.max(t.revives, t.revivesTotal - t.revives);\n    t.speedrun = e.readBoolean();\n    t.speedrun_seen = e.readBoolean();\n    t.splits = [];\n    for (let n = 0; n < 9; n++) {\n      t.splits[n] = e.readDInt(this.$long);\n    }\n    return t;\n  }\n}\nclass je extends De {\n  static init() {\n    super.AddProperty(\"byte\", {\n      min: 8,\n      max: 24\n    });\n    super.AddTable(\"type\", [\n      \"interaction\",\n      \"interaction_confirm\",\n      \"target\",\n      \"targeted\",\n      \"allow_targeting\",\n      \"kev\",\n      \"custom\"\n    ]);\n    super.AddTable(\"int_type\", [\n      \"garbage\",\n      \"zenith.climb_pts\",\n      \"zenith.bonus\",\n      \"zenith.incapacitated\",\n      \"zenith.revive\"\n    ]);\n  }\n  static encode(e, t) {\n    const n = t.frame;\n    const i = t.type;\n    const s = t.data;\n    e.writeDInt(t.id, this.$byte);\n    e.writeDInt(n, this.$byte);\n    e.writeTable(i, this.$$type);\n    switch (i) {\n      case \"interaction\":\n        return e.writeStruct(s, Ve);\n      case \"interaction_confirm\":\n        e.writeTable(s.type, this.$$int_type);\n        switch (s.type) {\n          case \"garbage\":\n            return e.writeStruct(s, Ve);\n          case \"zenith.climb_pts\":\n          case \"zenith.bonus\":\n            e.writeUInt(s.gameid, 13);\n            e.writeDInt(s.frame, this.$byte);\n            return e.writeDouble(s.amt);\n          case \"zenith.incapacitated\":\n          case \"zenith.revive\":\n            e.writeUInt(s.gameid, 13);\n            return e.writeDInt(s.frame, this.$byte);\n          default:\n            throw new Error(`Unknown interaction type received: ${s.type}`);\n        }\n      case \"target\":\n        e.writeUInt(s.targets.length, 13);\n        for (const t of s.targets) {\n          e.writeUInt(t, 13);\n        }\n        break;\n      case \"targeted\":\n        e.writeBoolean(s.value);\n        e.writeUInt(s.gameid, 13);\n        e.writeDInt(s.frame, this.$byte);\n        break;\n      case \"allow_targeting\":\n        e.writeBoolean(s.value);\n        break;\n      case \"kev\":\n        e.writeUInt(s.victim.gameid, 13);\n        e.writeUInt(s.killer.gameid, 13);\n        e.writeDInt(s.frame, this.$byte);\n        e.writeUInt(s.fire, 10);\n        break;\n      case \"custom\":\n        return e.writeStruct(s, Qe);\n    }\n  }\n  static decode(e) {\n    const t = {};\n    t.id = e.readDInt(this.$byte);\n    t.frame = e.readDInt(this.$byte);\n    t.type = e.readTable(this.$$type);\n    e: switch (t.type) {\n      case \"interaction\":\n        t.data = e.readStruct(Ve);\n        break;\n      case \"interaction_confirm\": {\n        const n = e.readTable(this.$$int_type);\n        switch (n) {\n          case \"garbage\":\n            t.data = e.readStruct(Ve);\n            break e;\n          case \"zenith.climb_pts\":\n          case \"zenith.bonus\":\n            t.data = {\n              type: n,\n              gameid: e.readUInt(13),\n              frame: e.readDInt(this.$byte),\n              amt: e.readDouble()\n            };\n            break e;\n          case \"zenith.incapacitated\":\n          case \"zenith.revive\":\n            t.data = {\n              type: n,\n              gameid: e.readUInt(13),\n              frame: e.readDInt(this.$byte)\n            };\n            break e;\n        }\n        break;\n      }\n      case \"target\": {\n        const n = [];\n        const i = e.readUInt(13);\n        for (let t = 0; t < i; t++) {\n          n.push(e.readUInt(13));\n        }\n        t.data = {\n          targets: n\n        };\n        break;\n      }\n      case \"targeted\":\n        t.data = {\n          value: e.readBoolean(),\n          gameid: e.readUInt(13),\n          frame: e.readDInt(this.$byte)\n        };\n        break;\n      case \"allow_targeting\":\n        t.data = {\n          value: e.readBoolean()\n        };\n        break;\n      case \"kev\":\n        t.data = {\n          victim: {\n            gameid: e.readUInt(13)\n          },\n          killer: {\n            gameid: e.readUInt(13)\n          },\n          frame: e.readDInt(this.$byte),\n          fire: e.readUInt(10)\n        };\n        break;\n      case \"custom\":\n        t.data = e.readStruct(Qe);\n    }\n    return t;\n  }\n}\nclass Ve extends Oe {\n  static init() {\n    super.AddProperty(\"byte\", {\n      min: 8,\n      max: 24\n    });\n    super.AddTable(\"type\", [\"garbage\", \"corruption\"]);\n    super.AddTable(\"actorType\", [\"none\", \"clears\", \"time\", \"line\"]);\n    super.AddTable(\"blk\", [null, ...minocolors]);\n    super.AddTable(\"position\", [\n      \"aboveStack\",\n      \"aboveUnclearable\",\n      \"abovePerma\",\n      \"bottom\"\n    ]);\n    const n = {\n      mode: \"fixed\",\n      type: Ee.TYPES.Table,\n      size: this.$$type\n    };\n    const F = {\n      mode: \"fixed\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const P = {\n      mode: \"optional\",\n      type: Ee.TYPES.String,\n      size: true\n    };\n    const H = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: 13\n    };\n    const W = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$position\n    };\n    const G = {\n      mode: \"optional\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const U = {\n      mode: \"optional\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const $ = {\n      mode: \"optional\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const j = {\n      mode: \"optional\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const X = {\n      mode: \"optional\",\n      type: Ee.TYPES.Int,\n      size: Ue.MAX_WIDTH\n    };\n    const Y = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: Ue.MAX_HEIGHT\n    };\n    const q = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$blk\n    };\n    const V = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$blk\n    };\n    const K = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: 24\n    };\n    const Q = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: Ue.MAX_WIDTH\n    };\n    const Z = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: 16\n    };\n    const J = {\n      mode: \"optional\",\n      type: Ee.TYPES.Boolean\n    };\n    const ee = {\n      mode: \"optional\",\n      type: Ee.TYPES.Boolean\n    };\n    const te = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: Ue.MAX_WIDTH\n    };\n    const ne = {\n      mode: \"optional\",\n      type: Ee.TYPES.Double\n    };\n    const ie = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const se = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const oe = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const re = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$actorType\n    };\n    const ae = {\n      mode: \"optional\",\n      type: Ee.TYPES.Any\n    };\n    const le = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$actorType\n    };\n    const ce = {\n      mode: \"optional\",\n      type: Ee.TYPES.Any\n    };\n    const he = {\n      type: n,\n      amt: F,\n      username: P,\n      gameid: H,\n      position: W,\n      frame: G,\n      cid: U,\n      iid: $,\n      ackiid: j,\n      x: X,\n      y: Y,\n      pos: q,\n      neg: V,\n      color: K,\n      column: Q,\n      delay: Z,\n      queued: J,\n      hardened: ee,\n      size: te,\n      zthalt: ne,\n      actor_neg: ie,\n      actor_pos: se,\n      anchor: oe,\n      actor_neg_data_type: re,\n      actor_neg_data_amt: ae,\n      actor_pos_data_type: le,\n      actor_pos_data_amt: ce\n    };\n    super.AddStructure(he);\n  }\n}\nclass Ye extends Oe {\n  static init() {\n    super.AddTable(\"action\", [\"add\", \"remove\"]);\n    super.AddTable(\"position\", [\n      \"aboveStack\",\n      \"aboveUnclearable\",\n      \"abovePerma\",\n      \"bottom\"\n    ]);\n    super.AddTable(\"actorType\", [\"none\", \"clears\", \"time\", \"line\"]);\n    super.AddTable(\"blk\", [null, ...minocolors]);\n    super.AddProperty(\"byte\", {\n      min: 8,\n      max: 32\n    });\n    const O = {\n      mode: \"fixed\",\n      type: Ee.TYPES.Table,\n      size: this.$$action\n    };\n    const D = {\n      mode: \"fixed\",\n      type: Ee.TYPES.DInt,\n      size: this.$byte\n    };\n    const z = {\n      mode: \"fixed\",\n      type: Ee.TYPES.UInt,\n      size: Ue.MAX_WIDTH\n    };\n    const I = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$blk\n    };\n    const R = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$blk\n    };\n    const P = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$position\n    };\n    const H = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: Ue.MAX_WIDTH\n    };\n    const N = {\n      mode: \"optional\",\n      type: Ee.TYPES.UInt,\n      size: 16\n    };\n    const W = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const G = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const U = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const $ = {\n      mode: \"optional\",\n      type: Ee.TYPES.String\n    };\n    const j = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$actorType\n    };\n    const X = {\n      mode: \"optional\",\n      type: Ee.TYPES.Any\n    };\n    const Y = {\n      mode: \"optional\",\n      type: Ee.TYPES.Table,\n      size: this.$$actorType\n    };\n    const q = {\n      mode: \"optional\",\n      type: Ee.TYPES.Any\n    };\n    const V = {\n      action: O,\n      amt: D,\n      size: z,\n      pos: I,\n      neg: R,\n      position: P,\n      column: H,\n      slow: N,\n      effect: W,\n      actor_neg: G,\n      actor_pos: U,\n      anchor: $,\n      actor_neg_data_type: j,\n      actor_neg_data_amt: X,\n      actor_pos_data_type: Y,\n      actor_pos_data_amt: q\n    };\n    super.AddStructure(V);\n  }\n}\nclass Qe extends De {\n  static init() {\n    super.AddTable(\"type\", [\n      \"garbage\",\n      \"map\",\n      \"queue\",\n      \"piece\",\n      \"lines\",\n      \"boardsize\",\n      \"boardresize\",\n      \"holderstate\",\n      \"setoptions\",\n      \"constants\",\n      \"tetrominoes\"\n    ]);\n  }\n  static encode(e, { type: t, data: n }) {\n    e.writeTable(t, this.$$type);\n    switch (t) {\n      case \"garbage\":\n        return e.writeStruct(n, Ve);\n      case \"map\":\n        e.writeStruct(n.map, Ze);\n        e.writeUInt(n.w, Ue.MAX_WIDTH);\n        return e.writeUInt(n.h, Ue.MAX_HEIGHT);\n      case \"queue\":\n        e.writeBoolean(n.start);\n        return e.writeString(n.queue.toString());\n      case \"piece\":\n        return e.writeString(n.piece);\n      case \"lines\":\n        return e.writeStruct(n, Ye);\n      case \"boardsize\":\n      case \"boardresize\":\n        e.writeUInt(n.w, Ue.MAX_WIDTH);\n        return e.writeUInt(n.h, Ue.MAX_HEIGHT);\n      case \"holderstate\":\n      case \"constants\":\n        return e.pack(n);\n      case \"setoptions\":\n        return e.writeStruct(n.options, et);\n      case \"tetrominoes\":\n        return e.writeStruct(n, Je);\n    }\n  }\n  static decode(e) {\n    const t = {};\n    t.type = e.readTable(this.$$type);\n    t.data = {};\n    switch (t.type) {\n      case \"garbage\":\n        t.data = e.readStruct(Ve);\n        break;\n      case \"map\":\n        t.data.map = e.readStruct(Ze);\n        t.data.w = e.readUInt(Ue.MAX_WIDTH);\n        t.data.h = e.readUInt(Ue.MAX_HEIGHT);\n        break;\n      case \"queue\":\n        t.data.start = e.readBoolean();\n        t.data.queue = e.readString().split(\",\");\n        break;\n      case \"piece\":\n        t.data.piece = e.readString();\n        break;\n      case \"lines\":\n        t.data = e.readStruct(Ye);\n        break;\n      case \"boardsize\":\n      case \"boardresize\":\n        t.data.w = e.readUInt(Ue.MAX_WIDTH);\n        t.data.h = e.readUInt(Ue.MAX_HEIGHT);\n        break;\n      case \"holderstate\":\n      case \"constants\":\n        t.data = e.unpack();\n        break;\n      case \"setoptions\":\n        t.data.options = e.readStruct(et);\n        break;\n      case \"tetrominoes\":\n        t.data = e.readStruct(Je);\n    }\n    return t;\n  }\n}\nclass Ze extends De {\n  static init() {\n    super.AddTable(\n      \"letters\",\n      [\"?\", \",\", \"_\", \"#\", \"@\", \"z\", \"l\", \"o\", \"s\", \"i\", \"j\", \"t\", \"g\", \"d\"],\n      \"flexible\"\n    );\n    super.AddProperty(\"word\", {\n      min: 16,\n      max: 32\n    });\n  }\n  static encode(e, t) {\n    const n = t.split(\"\");\n    e.writeDInt(n.length, this.$word);\n    for (const t of n) {\n      e.writeTable(t, this.$$letters);\n    }\n  }\n  static decode(e) {\n    let t = \"\";\n    const n = e.readDInt(this.$word);\n    for (let i = 0; i < n; i++) {\n      t += e.readTable(this.$$letters);\n    }\n    return t;\n  }\n}\nclass Je extends De {\n  static init() {\n    super.AddProperty(\"tiny\", {\n      min: 3,\n      max: 7\n    });\n    super.AddTable(\n      \"spinbonus\",\n      [...Object.keys(spinbonuses_rules)],\n      \"flexible\"\n    );\n    super.AddTable(\"colors\", [...minocolors]);\n    super.AddTable(\"kicksets\", [...Object.keys(kicksets)], \"flexible\");\n    super.AddTable(\"special\", [\"i\", \"i2\", \"i3\", \"l3\", \"i5\", \"oo\"]);\n  }\n  static encode(e, t) {\n    const n = t.tetrominoes;\n    const i = t.minotypes;\n    const s = t.tetrominoes_color;\n    const o = Object.keys(n);\n    e.writeUInt(o.length, 8);\n    for (const t of o) {\n      e.writeString(t);\n    }\n    for (const [t, o] of Object.entries(n)) {\n      const { matrix: n, preview: r } = o;\n      e.writeDInt(n.w, this.$tiny);\n      e.writeDInt(n.h, this.$tiny);\n      e.writeUInt(n.dx, 5);\n      e.writeUInt(n.dy, 5);\n      e.writeDInt(n.data[0].length, this.$tiny);\n      const [a, l] = [Ee.cla32(n.w - 1), Ee.cla32(n.h - 1)];\n      for (const t of n.data) {\n        for (const [n, i] of t) {\n          e.writeUInt(n, a);\n          e.writeUInt(i, l);\n        }\n      }\n      e.writeDInt(r.w, this.$tiny);\n      e.writeDInt(r.h, this.$tiny);\n      for (const [t, n] of r.data) {\n        e.writeUInt(t, a);\n        e.writeUInt(n, l);\n      }\n      e.writeBoolean(o.weight !== undefined);\n      e.writeBoolean(o.spinbonus_override);\n      e.writeBoolean(o.kickset_override);\n      e.writeBoolean(o.kickset_special);\n      e.writeBoolean(i.includes(t));\n      e.writeTable(s[t], this.$$colors);\n      if (o.weight !== undefined) {\n        e.writeDInt(o.weight, this.$tiny);\n      }\n      if (o.spinbonus_override) {\n        e.writeTable(o.spinbonus_override.rule, this.$$spinbonus);\n        e.writeBoolean(o.spinbonus_override.mini);\n      }\n      if (o.kickset_override) {\n        e.writeTable(o.kickset_override, this.$$kicksets);\n      }\n      if (o.kickset_special) {\n        e.writeTable(o.kickset_special, this.$$special);\n      }\n    }\n  }\n  static decode(e) {\n    const t = {};\n    const n = [];\n    const i = {};\n    const s = e.readUInt(8);\n    const o = [];\n    for (let n = 0; n < s; n++) {\n      const n = e.readString();\n      t[n] = {\n        matrix: {},\n        preview: {}\n      };\n      o.push(n);\n    }\n    for (const s of o) {\n      const o = t[s];\n      const { matrix: r, preview: a } = o;\n      r.w = e.readDInt(this.$tiny);\n      r.h = e.readDInt(this.$tiny);\n      r.dx = e.readUInt(5);\n      r.dy = e.readUInt(5);\n      const l = e.readDInt(this.$tiny);\n      const [c, h] = [Ee.cla32(r.w - 1), Ee.cla32(r.h - 1)];\n      r.data = [];\n      for (let t = 0; t < 4; t++) {\n        r.data[t] = [];\n        for (let n = 0; n < l; n++) {\n          const [i, s] = [e.readUInt(c), e.readUInt(h)];\n          r.data[t][n] = [i, s];\n        }\n      }\n      a.w = e.readDInt(this.$tiny);\n      a.h = e.readDInt(this.$tiny);\n      a.data = [];\n      for (let t = 0; t < l; t++) {\n        const [n, i] = [e.readUInt(c), e.readUInt(h)];\n        a.data[t] = [n, i];\n      }\n      const u = e.readBoolean();\n      const p = e.readBoolean();\n      const d = e.readBoolean();\n      const _ = e.readBoolean();\n      const f = e.readBoolean();\n      i[s] = e.readTable(this.$$colors);\n      if (u) {\n        o.weight = e.readDInt(this.$tiny);\n      }\n      if (p) {\n        o.spinbonus_override = {\n          rule: e.readTable(this.$$spinbonus),\n          mini: e.readBoolean()\n        };\n      }\n      if (d) {\n        o.kickset_override = e.readTable(this.$$kicksets);\n      }\n      if (_) {\n        o.kickset_special = e.readTable(this.$$special);\n      }\n      if (f) {\n        n.push(s);\n      }\n    }\n    return {\n      minotypes: n,\n      tetrominoes: t,\n      tetrominoes_color: i\n    };\n  }\n}\nclass et extends De {\n  static TypeOrders = [\n    \"boolean\",\n    \"number\",\n    \"table\",\n    \"object\",\n    \"array\",\n    \"string\"\n  ];\n  static OptsBook = OptionsList;\n  static init() {\n    super.AddTable(\"options\", Object.keys(this.OptsBook));\n    super.AddTable(\n      \"minoskin\",\n      [\"i\", \"j\", \"l\", \"o\", \"s\", \"t\", \"z\", \"ghost\", \"other\"],\n      \"flexible\"\n    );\n    super.AddTable(\"skins\", [\"tetrio\", \"_bombs\", \"connected_test\"], \"flexible\");\n    super.AddTable(\"ixs\", [\"off\", \"hold\", \"tap\"]);\n    for (const [e, t] of Object.entries(this.OptsBook)) {\n      if (t.allowed) {\n        super.AddTable(\"_\" + e, t.allowed);\n      } else if (t.possibles) {\n        super.AddTable(\"_\" + e, t.possibles, \"flexible\");\n      }\n    }\n  }\n  static *ParseOptions(e) {\n    const { TypeOrders: t, OptsBook: n } = this;\n    const i = Object.keys(e);\n    for (const s of t) {\n      for (const t of i) {\n        const i = n[t];\n        if (i.type !== s) {\n          continue;\n        }\n        const o = e[t];\n        yield [t, o, i];\n      }\n    }\n  }\n  static encode(e, t) {\n    for (const [n, i, s] of this.ParseOptions(t)) {\n      e.writeTable(n, this.$$options);\n      switch (s.type) {\n        case \"object\":\n          if (n === \"handling\") {\n            e.writeFloat(i.arr, 6, 10);\n            e.writeUInt(i.sdf, 6);\n            e.writeBoolean(i.safelock);\n            e.writeBoolean(i.cancel);\n            e.writeBoolean(i.may20g);\n            e.writeFloat(i.das, 8, 10);\n            e.writeFloat(i.dcd, 8, 10);\n            e.writeTable(i.irs, this.$$ixs);\n            e.writeTable(i.ihs, this.$$ixs);\n          } else if (n === \"minoskin\") {\n            e.writeUInt(Object.keys(i).length, 8);\n            for (const [t, n] of Object.entries(i)) {\n              e.writeTable(t, this.$$minoskin);\n              e.writeTable(n, this.$$skins);\n            }\n          }\n          break;\n        case \"array\":\n          e.writeArray(i);\n          break;\n        case \"boolean\":\n          e.writeBoolean(i);\n          break;\n        case \"table\":\n          e.writeTable(i, this[`$$_${n}`], s.mode);\n          break;\n        case \"number\":\n          e.writeNumber(i);\n          break;\n        case \"string\":\n          e.writeString(i);\n          break;\n        default:\n          throw new TypeError(\n            `Unknown type for key: ${n} value: ${i} | got -> ${s.type}`\n          );\n      }\n    }\n    e.writeTable(null, this.$$options);\n  }\n  static decode(e) {\n    const t = this.$$options.size;\n    const n = this.OptsBook;\n    const i = {};\n    let s = null;\n    let o = null;\n    for (let r = e.peek(t); r !== 0; r = e.peek(t)) {\n      const t = e.readTable(this.$$options);\n      const r = n[t]?.type;\n      switch (r) {\n        case \"object\":\n          if (t === \"handling\") {\n            const n = {};\n            n.arr = e.readFloat(6, 10);\n            n.sdf = e.readUInt(6);\n            n.safelock = e.readBoolean();\n            n.cancel = e.readBoolean();\n            n.may20g = e.readBoolean();\n            n.das = e.readFloat(8, 10);\n            n.dcd = e.readFloat(8, 10);\n            n.irs = e.readTable(this.$$ixs);\n            n.ihs = e.readTable(this.$$ixs);\n            i[t] = n;\n          } else if (t === \"minoskin\") {\n            const n = {};\n            const s = e.readUInt(8);\n            i[t] = n;\n            for (let t = 0; t < s; t++) {\n              const t = e.readTable(this.$$minoskin);\n              const i = e.readTable(this.$$skins);\n              n[t] = i;\n            }\n          }\n          break;\n        case \"array\":\n          i[t] = e.readArray();\n          break;\n        case \"boolean\":\n          i[t] = e.readBoolean();\n          break;\n        case \"table\":\n          i[t] = e.readTable(this[`$$_${t}`]);\n          break;\n        case \"number\":\n          i[t] = e.readNumber();\n          break;\n        case \"string\":\n          i[t] = e.readString();\n          break;\n        default:\n          console.error(\"Options dump: \", i);\n          throw new TypeError(\n            `Unknown type for key: ${t} | got -> ${r}\\nLast Key: ${s}\\nLast Value: ${o}\\n`\n          );\n      }\n      s = t;\n      o = i[t];\n    }\n    e.seek(t, 2);\n    return i;\n  }\n}\nclass tt extends et {\n  static *ParseOptions(e) {\n    for (const [n, i, s] of super.ParseOptions(e)) {\n      if (s.default !== i) {\n        if (s.type !== \"object\" || !strictShallowEqual(s.default, i)) {\n          yield [n, i, s];\n        }\n      }\n    }\n  }\n}\nclass nt extends De {\n  static init() {\n    super.AddExtension(this, {\n      ownBuffer: true\n    });\n    super.AddTable(\"gor\", [\n      null,\n      \"topout\",\n      \"garbagesmash\",\n      \"zenith\",\n      \"clear\",\n      \"topout_clear\",\n      \"winner\",\n      \"forfeit\",\n      \"retry\",\n      \"drop\",\n      \"dropnow\",\n      \"disconnect\"\n    ]);\n  }\n  static encode(e, t) {\n    const n = t.successful;\n    const i = t.gameoverreason;\n    const s = t.killer.gameid;\n    const o = t.killer.type === \"spark\";\n    const r = t.killer.username ?? \"\";\n    const { apm: a, pps: l, vsscore: c } = t.aggregatestats;\n    const { game: h, stats: u, diyusi: p } = t;\n    e.writeBoolean(n);\n    e.writeTable(i, this.$$gor);\n    e.writeUInt(s, 13);\n    e.writeBoolean(o, 1);\n    e.writeString(r);\n    e.writeStruct(t.options, tt);\n    e.writeDouble(a);\n    e.writeDouble(l);\n    e.writeDouble(c);\n    e.writeStruct(\n      {\n        game: h,\n        stats: u,\n        diyusi: p\n      },\n      $e\n    );\n  }\n  static decode(e) {\n    const t = {\n      killer: {},\n      aggregatestats: {}\n    };\n    t.successful = e.readBoolean();\n    t.gameoverreason = e.readTable(this.$$gor);\n    t.killer.gameid = e.readUInt(13);\n    t.killer.type = e.readBoolean() ? \"spark\" : \"sizzle\";\n    t.killer.username = e.readString();\n    t.options = e.readStruct(tt);\n    t.aggregatestats.apm = e.readDouble();\n    t.aggregatestats.pps = e.readDouble();\n    t.aggregatestats.vsscore = e.readDouble();\n    Object.assign(t, e.readStruct($e));\n    return t;\n  }\n}\nEe.init();\nPe.init();\nWe.init();\nHe.init();\nRe.init();\nNe.init();\n$e.init();\nUe.init();\nXe.init();\nqe.init();\nKe.init();\nje.init();\nVe.init();\nYe.init();\nQe.init();\nJe.init();\nZe.init();\net.init();\nnt.init();\nDe.LoadExtensions(r);\nLe.SetMsgpackr(ke, we);\n\nexport { Le as CandorCodec };\n"],"names":["CandorCodec","Le","e","Buffer","cached","itdo","t","Object","prototype","toString","call","substring","length","toLowerCase","initOptions","OptionsTemplate","entries","OptionsList","default","n","type","allowed","possibles","TypeError","ve","int64AsType","bundleStrings","sequential","ke","r","Packr","we","Unpackr","Be","F_ALLOC","F_HOOK","F_ID","_commands","Map","_codes","_PACK","_UNPACK","SymCmd","Symbol","FLAG","SetMsgpackr","pack","bind","unpack","GetHandlers","c","values","flags","push","name","h","get","table","apply","keys","Add","set","code","buffer","from","_kv","_vk","getkv","getvk","Encode","i","s","o","batched","id","a","encode","l","allocUnsafe","byteLength","writeUInt8","Decode","peek","command","ReferenceError","padStart","subarray","data","decode","console","error","recvid","writeUInt32BE","readUInt32BE","ribbonid","tokenid","write","packets","reduce","outdated","kick","restrict","block","anticheat","manual","rename","reason","concat","readUInt8","background","split","load","timeout","writeUInt16BE","readUInt16BE","deny","warm","ok","announce","msg","Se","Table","Array","Struct","String","Boolean","Int","UInt","DInt","Float","UFloat","Double","Number","Any","Te","NaN","Infinity","Me","BUFFER","DOUBLE","QWORD","HEX","Ee","TYPES","TYPES_INDEX","SUPPORTED_TYPES","Set","cla32","Math","max","clz32","GetIntSize","ceil","min","_minBits","_maxBits","_minSize","pow","_maxSize","minSize","maxSize","readSize","writeSize","RangeError","bit","size","isNaN","writeUInt","isFinite","writeBoolean","POSITIVE_INFINITY","writeInt","writeDouble","readUInt","readBoolean","NEGATIVE_INFINITY","readInt","readDouble","_mode","_size","floor","log2","has","mode","struct","list","_table","Error","_prop","writeDInt","writeTable","writeAny","readDInt","readTable","readAny","init","SUPPORTED_TYPES_TABLE","DEFAULT_ARRAY","DEFAULT_PROP","ref","refid","Encoder","_buffer","_packr","_packBuffer","realign","_insert","val","undefined","writeArray","writeStruct","writeString","writeBuffer","writeUInt64","writeFloat","round","writeUFloat","writeNumber","writeHex","b","writeByType","useBuffer","finalize","offset","seek","writeDoubleBE","writeBigUInt64BE","Decoder","_MAX_BITS","MAX_SAFE_INTEGER","_MAX_BITS_SIGNED","_bits","_unpack","byteOffset","_read_signed","_read","read","readArray","readStruct","readString","indexOf","readBuffer","readUInt64","readBigUInt64BE","readFloat","readUFloat","readDoubleBE","readNumber","readHex","readByType","peekTable","peekDInt","De","_MAX_BUFFER","alloc","_LIST","LIST","AddExtension","AddTable","AddProperty","LoadExtensions","ext_code","addExtension","Class","Oe","AddStructure","_cstFields","_fixFields","_optFields","value","u","$$prop","Pe","$prov","gameid","provisioned","frames","map","Re","We","board","f","g","$long","w","Ue","MAX_WIDTH","MAX_HEIGHT","boards","He","stats","allies","rank","altitude","btb","specCount","speedrun","nearWR","revives","escapeartist","blockrationing_app","blockrationing_final","$$extraStat","talentless","sb","toFixed","ownBuffer","$$type","frame","$frame","$$key","key","subframe","hoisted","$e","nt","je","warn","JSON","stringify","Ne","userid","alive","naturalorder","options","et","players","tetrominoes","game","bag","hold","controlling","falling","handling","$$piece","locked","piece","inputSoftdrop","lastshift","lShift","held","rShift","diyusi","arr","das","Xe","sdf","safelock","cancel","may20g","playing","dcd","irs","$$ixs","ihs","qe","dir","minocolors","some","$$blk","fill","x","hy","lockresets","rotresets","skip","y","locking","_clears","garbage","clears","finesse","lines","$short","level_lines","level_lines_needed","inputs","holds","score","level","combo","topcombo","combopower","topbtb","btbpower","tspins","piecesplaced","sent","sent_nomult","maxspike","maxspike_nomult","received","attack","cleared","kills","faults","perfectpieces","zenith","Ke","zenlevel","zenprogress","peakrank","avgrankpts","totalbonus","targetingfactor","targetinggrace","revivesTotal","speedrun_seen","splits","revivesMaxOfBoth","$byte","Ve","$$int_type","amt","targets","victim","killer","fire","Qe","F","P","H","W","$$position","G","U","$","j","X","Y","q","V","K","Q","Z","J","ee","te","ne","ie","se","oe","re","$$actorType","ae","le","ce","he","username","position","cid","iid","ackiid","pos","neg","color","column","delay","queued","hardened","zthalt","actor_neg","actor_pos","anchor","actor_neg_data_type","actor_neg_data_amt","actor_pos_data_type","actor_pos_data_amt","Ye","O","$$action","D","z","I","R","N","action","slow","effect","Ze","start","queue","Je","$word","$$letters","spinbonuses_rules","kicksets","minotypes","tetrominoes_color","matrix","preview","$tiny","dx","dy","weight","spinbonus_override","kickset_override","kickset_special","includes","$$colors","rule","$$spinbonus","mini","$$kicksets","$$special","p","d","_","TypeOrders","OptsBook","ParseOptions","$$options","$$minoskin","$$skins","tt","strictShallowEqual","successful","gameoverreason","apm","pps","vsscore","aggregatestats","$$gor","assign"],"mappings":"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"}